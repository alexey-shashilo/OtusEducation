<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>homeWork</title>
        <script>
            function addElem() {
                addTable1();
                ascAge();
            }
            function ascAge() {
                let array = [];
                let age = 0;
                let countElement = 0
                let table = document.getElementById("students");
                for (let row of table.rows) {
                    array.push(+row.cells[3].textContent);
                    countElement += 1;
                }
                for (i = 1; i < array.length; i++){
                age += Number(array[i]);
                }

                let td = document.getElementById("ascAge");

                if (!td) {

                    td = document.createElement("td");
                    td.id = Math.round(age / (countElement-1));
                }
               td.innerHTML = Math.round(age / (countElement-1));
            }
            function addTable1() {
                const name = document.getElementById("name");
                const sex = document.getElementById("sex");
                const date = document.getElementById("date");

                let tr = document.createElement('tr');

                let td1 = document.createElement('td');
                td1.id = "name";
                td1.innerHTML = name.value
                tr.appendChild(td1);

                let td2 = document.createElement('td');
                td2.id = "sex";
                td2.innerHTML = sex.value
                tr.appendChild(td2);

                let td3 = document.createElement('td');
                td3.id = "date";
                td3.innerHTML = date.value
                tr.appendChild(td3);

                let td4 = document.createElement('td');
                td4.id = "age";
                td4.innerHTML = returnYear();
                tr.appendChild(td4);

                students.appendChild(tr);
            }
            function returnYear() {
                const date = document.getElementById("date");
                var date1 = new Date();
                var currentDate = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());
                let subDateAge = new Date(date.value);
                let dateAge = new Date(subDateAge.getFullYear(), subDateAge.getMonth(), subDateAge.getDate());
                return Math.floor((currentDate - dateAge) / 1000 / 60 / 60 / 24 / 365)
            }
        </script>
        <style class="text/css">
            .form {
                width: 1000 px;
                border-spacing:1;
                border-collapse:collapse;
            }
            tr, th {
                width: 250px;
                height: 20px;
                border: 1px solid steelblue;
            }
            input {
               border: 1px solid steelblue //цвет рамки
               height: 20px; // высота на свое усмотрение
               width: 250px; // ширина на свое усмотрение
            }
        </style>
    </head>
    <body>
    <p><b>Форма добавления информации о студенте</b></p>
    <table class="form" id="InputStudent">
            <tr class="Line">
                <th class="FullName">ФИО студента</th>
                <th class="Input">
                    <input type="text" id="name" required="required">
                </th>
            </tr>
            <tr class="Line">
                <th>Дата рождения</th>
                <th class="Input">
                    <input type="date" id="date" required="required">
                </th>
            </tr>
            <tr  class="Line">
                <th>Пол</th>
                <th class="Input">
                    <select id="sex" required="required">
                        <option>Мужчина</option>
                        <option>Женщина</option>
                    </select>
                </th>
            </tr>
            <tr class="btn">
                <th>
                    <button onclick = "addElem()">Отправить</button>
                </th>
            </tr>
        </table>
        <p><b>Таблица студентов</b></p>
        <table class="form" id="students">
            <tr>
                <th>Имя студента</th>
                <th>Пол</th>
                <th>Дата рождения</th>
                <th id="age">Возраст</th>
            </tr>
        </table>
        <table class="form" id="basement">
            <tr>
                <th style="border: 0px solid steelblue; width: 250px;"></th>
                <th style="border: 0px solid steelblue; width: 251px;"></th>
                <th style="border: 0px solid steelblue; width: 251px;"></th>
                <th style="border: 0px solid steelblue; width: 251px;"></th>
            </tr>
            <tr>
                <th colspan="3">Средний возраст</th>
                <th id="ascAge"></th>
            </tr>
        </table>

    </body>
</html>